#pragma checksum "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "4378d36892adbe34e748c85ca8b45e0adbfebdaf"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(FourN.AdminSite.Pages.Message.Areas_Module4_Views_Message_Messenger), @"mvc.1.0.view", @"/Areas/Module4/Views/Message/Messenger.cshtml")]
namespace FourN.AdminSite.Pages.Message
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\_ViewImports.cshtml"
using FourN.AdminSite;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\_ViewImports.cshtml"
using FourN.Data.ViewModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\_ViewImports.cshtml"
using FourN.AdminSite.Helper;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4378d36892adbe34e748c85ca8b45e0adbfebdaf", @"/Areas/Module4/Views/Message/Messenger.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1675d9f03eda31c1921a03798e9bd970d04b8f71", @"/Areas/Module4/Views/_ViewImports.cshtml")]
    public class Areas_Module4_Views_Message_Messenger : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<FourN.Data.ViewModel.ChatUserViewModel>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/chat.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/notify.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
  
    string groupid = (string)ViewData["groupid"];
    int userid = (int)ViewData["userid"];
    string username = (string)ViewData["username"];

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<link href='/plugins/toastr/toastr.min.css' rel='stylesheet' />
<script src='/plugins/toastr/toastr.min.js'></script>
<div class=""row"">
    <label>Go to room: </label>
    <input type=""text"" name=""to"" placeholder=""Enter a name room..."" class=""chatroom-nameroom"" id=""chat-id-to"" data-toggle=""dropdown"" autocomplete=""off"" /> <button type=""button"" class=""btn btn-primary"" id=""chatroom-btn-go"" style="" height: 25px; margin-left: 10px; line-height: 0.6;"">Go</button> <span class=""text-danger error-name""></span>
    <ul class=""dropdown-menu chat-id-to"">
");
            WriteLiteral("    </ul>\r\n    <div class=\"div-fullchatroom\">\r\n        <div id=\"chatroom-content\" class=\"col-md-12 chatroom-content\">\r\n");
#nullable restore
#line 22 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
             if (Model.Count > 0)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                 foreach (var chat in Model)
                {
                    if (chat.Users.userid == userid)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div class=\"row\">\r\n                            <div class=\"col-md-12 pull-right\">\r\n                                <span>( ");
#nullable restore
#line 30 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                                   Write(chat.chatusercreateat);

#line default
#line hidden
#nullable disable
            WriteLiteral(" )</span><span class=\"mr-1\">");
#nullable restore
#line 30 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                                                                                     Write(chat.chatusercontent);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>:<label class=\"chat-me\">");
#nullable restore
#line 30 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                                                                                                                                         Write(username);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>\r\n                            </div>\r\n                        </div>\r\n");
#nullable restore
#line 33 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div class=\"row\">\r\n                            <div class=\"col-md-12 pull-left div-odd\">\r\n                                <label class=\"chat-username mr-1\">");
#nullable restore
#line 38 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                                                             Write(chat.Users.username);

#line default
#line hidden
#nullable disable
            WriteLiteral("</label>:<span class=\"mr-1\">");
#nullable restore
#line 38 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                                                                                                             Write(chat.chatusercontent);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span><span>( ");
#nullable restore
#line 38 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                                                                                                                                                 Write(chat.chatusercreateat);

#line default
#line hidden
#nullable disable
            WriteLiteral(" )</span>\r\n                            </div>\r\n                        </div>\r\n");
#nullable restore
#line 41 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 42 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
                 
            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"        </div>
    </div>
</div>
<div class=""row mt-1 mb-2"">
    <div class=""col-md-12 pull-left mt-1"">
        <textarea rows=""4"" cols=""50"" placeholder=""Enter a message here..."" class=""form-control"" id=""chat-text""></textarea>
    </div>
    <div class=""col-md-1 pull-left mt-1"">
        <button id=""btn-send"" type=""button"" class=""btn btn-primary btn-send"">Send</button>
    </div>
</div>
<div style=""display:none"">
    <input type=""text"" class=""username""");
            BeginWriteAttribute("value", " value=\"", 2955, "\"", 2984, 1);
#nullable restore
#line 56 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
WriteAttributeValue("", 2963, ViewData["username"], 2963, 21, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n");
#nullable restore
#line 57 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
     if (groupid != "0")
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <input id=\"hidden-send-to\" type=\"text\"");
            BeginWriteAttribute("value", " value=\"", 3069, "\"", 3085, 1);
#nullable restore
#line 59 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
WriteAttributeValue("", 3077, groupid, 3077, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n");
#nullable restore
#line 60 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
    }
    else
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <input id=\"hidden-send-to\" type=\"text\" value=\"0\" />\r\n");
#nullable restore
#line 64 "E:\FPT-Aptech\Project Sem4\FourN-final\FourN-final\FourN-20-7-2021\C#Project\FourN.AdminSite\Areas\Module4\Views\Message\Messenger.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>
<script>
    $(document).ready(function () {
        //add color background
        $('li.ChatRoom').css('background-color', 'azure');
        //btn send click
        $('.btn-send').click(function () {
            var text = $('#chat-text').val();
            var username = $('.username').val();
            var groupid = $('#hidden-send-to').val();
            if (text.trim() != """") {
                $.ajax({
                    url: '/Module4/Message/CreateChatRoom',
                    dataType: 'json',
                    data: {
                        content: text,
                        groupid: groupid
                    },
                    type: ""POST"",
                    beforeSend: function () {

                    },
                    complete: function () {
                        var user = $('.username').val();
                        var message = $(""#chat-text"").val();
                        connectionChat.invoke(""SendMessage"", user, message).catch(f");
            WriteLiteral(@"unction (err) {
                            return console.error(err.toString());
                        });
                        $('#chat-text').val("""");
                        event.preventDefault();
                    },
                    success: function (json) {
                        if (json['status'] == true) {
                            var html = '<div class=""row""> <div class=""col-md-12 pull-right""><span> (' + json[""time""] + ') </span><span class=""mr-1"">' + text + '</span>:<label class=""chat-me"">' + username + '</label></div></div>';
                            $('.chatroom-content').append(html);

                        }
                    },
                    error: function (xhr, ajaxOptions, thrownError) {
                        alert(thrownError + ""\r\n"" + xhr.statusText + ""\r\n"" + xhr.responseText);
                    },
                });//end ajax
            }//end if
        });//end click
        //btn li click to name
        $('li.message-id-to').c");
            WriteLiteral(@"lick(function () {
            var text = $(this).text();
            $('.chatroom-nameroom').val(text);
            $('ul.message-id-to').hide();
        });//end click
        //autocomplete
        $('input[name=\'to\']').on('focusin', function () {
            $.ajax({
                url: '/Module4/Message/ChatAutocomplete?filter_name=all',
                dataType: 'json',
                //data: { },
                type: ""GET"",
                beforeSend: function () {
                    $('ul.chat-id-to').empty();
                    $('ul.chat-id-to').css(""display"", ""block"");
                },
                complete: function () {
                    $('li.chat-id-to').click(function () {
                        var text = $(this).text();
                        var id = $(this).attr(""data-id"");
                        $('#hidden-send-to').val(id);
                        $('#chat-id-to').val(text);
                        $('#chat-id-to').focus();
                        ");
            WriteLiteral(@"$('ul.chat-id-to').css(""display"", ""none"");
                        //location = window.location.href + '?groupid=' + id;
                    });
                },
                success: function (json) {
                    if (json['status'] == true) {

                        $.each(json['result'], function (key, value) {
                            /**/
                            //$('ul.chat-id-to').append(""<a href='Module4/Message/Message/"" + value[""groupid""] + ""'>"" + ""<li class='chat-id-to ml-1' data-id='"" + value[""groupid""] + ""' >"" + value[""groupname""] + "" </li>"" + ""</a>"");
                            /**/
                            $('ul.chat-id-to').append(""<li class='chat-id-to ml-1' data-id='"" + value[""groupid""] + ""' >"" + value[""groupname""] + ""</li>"");
                        });
                    }
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    alert(thrownError + ""\r\n"" + xhr.statusText + ""\r\n"" + xhr.responseText);");
            WriteLiteral(@"
                },
            });//end ajax
        });
        $('input[name=\'to\']').on('input', function () {
            var namelike = $(this).val();
            if (namelike.trim() != """") {
                $.ajax({
                    url: '/Module4/Message/ChatAutocomplete?filter_name=' + namelike,
                    dataType: 'json',
                    //data: { },
                    type: ""GET"",
                    beforeSend: function () {
                        $('ul.chat-id-to').empty();
                        $('ul.chat-id-to').css(""display"", ""block"");
                    },
                    complete: function () {
                        $('li.chat-id-to').click(function () {
                            var text = $(this).text();
                            var id = $(this).attr(""data-id"");
                            $('#hidden-send-to').val(id);
                            $('#chat-id-to').val(text);
                            $('#chat-id-to').focus();
       ");
            WriteLiteral(@"                     $('ul.chat-id-to').css(""display"", ""none"");
                            //location = window.location.href + '?groupid=' + id;
                        });
                    },
                    success: function (json) {
                        if (json['status'] == true) {

                            $.each(json['result'], function (key, value) {
                                /**/
                                //$('ul.chat-id-to').append(""<a href='Module4/Message/Message/"" + value[""groupid""] + ""'>"" + ""<li class='chat-id-to ml-1' data-id='"" + value[""groupid""] + ""' >"" + value[""groupname""] + "" </li>"" + ""</a>"");
                                /**/
                                $('ul.chat-id-to').append(""<li class='chat-id-to ml-1' data-id='"" + value[""groupid""] + ""' >"" + value[""groupname""] + ""</li>"");
                            });
                        }
                    },
                    error: function (xhr, ajaxOptions, thrownError) {
                 ");
            WriteLiteral(@"       alert(thrownError + ""\r\n"" + xhr.statusText + ""\r\n"" + xhr.responseText);
                    },
                });//end ajax
            }//end if
            else {
                $('ul.chat-id-to').css(""display"", ""none"");
            }
        });//end autocomplete
        //validate
        $('#chatroom-btn-go').on('click', function () {
            var namelike = $('#chat-id-to').val();
            if (namelike.trim() != """") {
                $.ajax({
                    url: '/Module4/Message/ChatValidate?filter_name=' + namelike,
                    dataType: 'json',
                    //data: { },
                    type: ""GET"",
                    beforeSend: function () {
                        $('ul.chat-id-to').empty();
                        $('ul.chat-id-to').css(""display"", ""block"");
                    },
                    complete: function () {

                    },
                    success: function (json) {
                        if (json['statu");
            WriteLiteral(@"s'] == true) {
                            $('.error-name').css('display', 'none');
                            var id = $('#hidden-send-to').val();
                            location = ""https://localhost:44316/Module4/Message/Messenger"" + '?groupid=' + id;
                        }
                        else {
                            $('.error-name').text('Can not find this name');
                            $('.error-name').css('display', 'block');
                            toastr.error(""Something is wrong !!"")
                        }
                    },
                    error: function (xhr, ajaxOptions, thrownError) {
                        alert(thrownError + ""\r\n"" + xhr.statusText + ""\r\n"" + xhr.responseText);
                    },
                });//end ajax
            }//end if
            else {
                $('ul.message-id-to').css(""display"", ""none"");
            }
        });//end validate
    });
</script>
");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "4378d36892adbe34e748c85ca8b45e0adbfebdaf20707", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "4378d36892adbe34e748c85ca8b45e0adbfebdaf21747", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<FourN.Data.ViewModel.ChatUserViewModel>> Html { get; private set; }
    }
}
#pragma warning restore 1591
